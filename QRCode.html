<!DOCTYPE html>
<html lang="de">
  <head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=0">
    <title>QRCode</title>
    <script>
setTimeout(()=>{
alert("Wag dich den text anzutippen")
},2500)
var rickroll = [
98,125,
110,125,
130.8,125,
110,125,
164.8,375,
164.8,375,
146.8,750,
98,125,
110,125,
130.8,125,
110,125,
146.8,375,
146.8,375,
130.8,375,
123.5,125,
110,250,
98,125,
110,125,
130.8,125,
110,125,
130.8,500,
146.8,250,
123.4,375,
110,125,
98,500,
98,250,
146.8,500,
130.8,1000
];

var text = "Oder doch nicht ðŸ¤”ðŸ¤¨?";

const audioCtx = new AudioContext();

const oscillator = audioCtx.createOscillator();

oscillator.type = "square";

function rick(tick){
if(rickroll[tick]){
oscillator.frequency.setValueAtTime(rickroll[tick], audioCtx.currentTime);
oscillator.connect(audioCtx.destination);
setTimeout(()=>{
oscillator.disconnect(audioCtx.destination)
},100)
setTimeout(()=>{
rick(tick + 2);
}, rickroll[tick + 1])
}
else oscillator.disconnect(audioCtx.destination);
}

function anim(stage){
var div = document.querySelector("div");
var inner = div.innerHTML;
div.setAttribute("onclick", "");
setTimeout(()=>{
if(stage){
if(inner.length < text.length){
div.innerHTML += text.slice(inner.length, inner.length + 2);
oscillator.frequency.setValueAtTime(50, audioCtx.currentTime);
oscillator.connect(audioCtx.destination);
setTimeout(()=>{
oscillator.frequency.setValueAtTime(150, audioCtx.currentTime);
},50);
setTimeout(()=>{
oscillator.disconnect(audioCtx.destination);
},100);
anim(true);
return;
}
else{
setTimeout(()=>{
rick(0);
},1000)
return;
}
}
if(inner.length){
div.innerHTML = inner.slice(0, inner.length - 2);
oscillator.frequency.setValueAtTime(150, audioCtx.currentTime);
oscillator.connect(audioCtx.destination);
setTimeout(()=>{
oscillator.frequency.setValueAtTime(50, audioCtx.currentTime);
},50);
setTimeout(()=>{
oscillator.disconnect(audioCtx.destination);
},100);
anim();
}
else anim(true);
},500)
}
    </script>
<style>
  div{
    position: absolute;
    top: 50%;
    left: 50%;
    width: 90%;
    transform: translate(-50%, -50%);
    font-size: 30px;
    font-weight: bold;
    display: inline;
    text-align: center;
  }
    </style>
  </head>
  <body>
<div onclick="anim(); oscillator.start();">Noch nix hier...</div>
</body>
</html>
